# ---- Environment Setup ----

# The object can be created as a cuboid (box_object) or from mesh file (mesh_object). Comment out the one you don't need. 
box_object:
  shape: [0.1,0.1,0.1]
  contact_file: "/home/xianyi/Research/MCTS/data/reorient/unit_cube_surface_contacts.csv" # path to sampled surface points on cube of unit half length
  negate_contact_normal: false

maximum_surface_contact_points: 100

environment: # maximum 20 blocks
  block_1:
    dimension: [10,10,1]
    location: [0,0,-0.4999]

characteristic_length: 1

robot_object_friction_coefficient: 0.8
environment_object_friction_coefficient: 0.3

task_dynamics: "quasidynamic" # "quasistatic", "quasidynamic", "none", "force_closure"
object_weight: [0,0,-0.1,0,0,0]
object_inertia: 
  [ 1, 0, 0, 0, 0, 0, 
    0, 1, 0, 0, 0, 0, 
    0, 0, 1, 0, 0, 0, 
    0, 0, 0, 0.167, 0, 0, 
    0, 0, 0, 0, 0.167, 0, 
    0, 0, 0, 0, 0, 0.167 ]

# ---- Robot ----
# TODO: change this
whole_hand: 
  folder_path: "/home/xianyi/Research/MCTS/data/wholehand/AllegroHand"
  radius: 0.01
  max_num_contacts: 4
  allowed_parts: ["base_link", "link_1", "link_2", "link_3_tip", "link_5", "link_6", "link_7_tip", "link_9", "link_10", "link_11_tip", "link_14", "link_15", "link_15_tip"]
  allowed_part_point_idxes: [8150, 2375, 4329, 2649, 2375, 4329, 2649, 2375, 4329, 2649, 2456, 3602, 2114]


# ---- Start and Goal Pose ----
object_start_pose: [0,0,0.5,0,0,0,1]
object_goal_pose: [-0.5, 0, 0.5, 0, 0.7071, 0, 0.7071]

# ---- Run options ----
random_seed: -1

# ---- Planner options ----

refine_object_trajectory: # whether to refine the trajectory for 2nd level search
  enabled: true
  distance: 0.1

transition_pruning: false

rrt_options:
  max_samples: 100
  goal_biased_prob: 0.7
  goal_thr: 0.1
  extend_epsilon:
    translation: 1
    rotation_degree: 120
  weight:
    rotation: 1.0
    translation: 0.1
  sample:
    position_upper_bound: [2.5,2.5,1]
    position_lower_bound: [-2.5,-2.5,0]
    rotation: 
      SO3_enabled: true
      axis: [0,0,1] # if SO3_enabled is false, sample rotation on this axis

mcts_options:
  max_time: 5
  l1_1st_max_iterations: 5
  l1_max_iterations: 3
  l2_1st_max_iterations: 20
  l2_max_iterations: 5
  final_l2_1st_max_iterations: 20
  final_l2_max_iterations: 5

# ---- Reward and Probability ----
grasp_measure_charac_length: -1 # <0, disable grasp measure

level_1_reward: "CMGLevel1Reward"
level_2_reward: "CMGLevel2Reward"

# "inhand" (must have workspace limit) or "env"
action_probability_L2: "env"

# ---- Output and Visualization ----

# visualization options: 
# "csv": show the trajecotry in the result csv file
# "setup": show the task setup
# "save": plan a trajectory, saved in csv, no visualization
# "show": plan a trajectory and show, no save
# "save_n_show": plan a trajectory, saved in csv, and show the results

visualize_option: "show"
save_file_path: "/home/xianyi/Research/MCTS/data/wholehand/output.csv"